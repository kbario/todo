<app-layout header="todos">
  <ion-list *ngIf="todos$ | async as todos; else loading">
    <ion-item-sliding *ngFor="let todo of todos">
      <ion-item-options side="start">
        <ion-item-option color="success">
          Edit
          <ion-icon slot="end"
                    name="create-outline">
          </ion-icon>
        </ion-item-option>
      </ion-item-options>

      <ion-item (click)="toggleTodoStatus(todo)">
        <ion-label> {{ todo.todo }} </ion-label>
        <ion-checkbox [checked]="todo.isDone"
                      labelPlacement="start">
        </ion-checkbox>
      </ion-item>

      <ion-item-options side="end">
        <ion-item-option color="danger"
                         (click)="deleteTodo(todo)">
          Delete
          <ion-icon slot="end"
                    name="trash-outline">
          </ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
    <ion-item-sliding>
      <ion-item>
        <!-- (click)=""> -->
        <ion-label></ion-label>
        <ion-input label="new todo"
                   type="text"
                   labelPlacement="floating"
                   placeholder="">
        </ion-input>
        <!-- formControlName="" -->
      </ion-item>
      <ion-item-options side="end">
        <ion-item-option color="danger">
          Clear
          <ion-icon slot="end"
                    name="close-circle-outline">
          </ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</app-layout>

<ng-template #loading>
  <ion-progress-bar type="indeterminate"></ion-progress-bar>
</ng-template>